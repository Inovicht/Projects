clear all; close all; clc;
f = @(x)(2*x(1)+3*x(2)-x(1)^3-2*x(2)^2);
df = @(x) [2-3*x(1)^2,3-4*x(2),0,0,0,0]';
h = @(x)([x(1)+3*x(2)-6+x(3)^2; ...
          5*x(1)+2*x(2)-10+x(4)^2; ...
          -x(1)+x(5)^2; ...
          -x(2)+x(6)^2]);
dh = @(x) [1,5,-1,0;
           3,2,0,-1;
           2*x(3),0,0,0;
           0,2*x(4),0,0;
           0,0,2*x(5),0;
           0,0,0,2*x(6);];
pars.factor = 1.5;
pars.epsilon = 1e-4;
pars.eps_factor = 1.1;
pars.mu0 = 10;
pars.muMax = 1e4;
pars.v0 = [0.1,0.1,0.1,0.1]';
pars.tau = 1e-03;
%x0 = [0.1 0.1 0.1 0.1 0.1 0.1]';
%x0 = [0.100000 0.100000 2.366432 3.049590 0.316228 0.316228]';
%x0 = [0.200000 1.500000 1.140175 2.449490 0.447214 1.224745]';
x0 = [1.500000 0.200000 1.974842 1.449138 1.224745 0.447214]';
%x0 = [1.400000 1.400000 0.632456 0.447214 1.183216 1.183216]';

%f = @(x) (x(1).^4+x(2).^4+x(3).^4);
%df = @(x) [4*x(1)^3;4*x(2)^3;4*x(3)^3];
%x0 = [1.000000 1.000000 1.000000]';
%h = [];
%pars.v0 = [];
%dh = [];

[xk,vk] = augmentedLagrangian(x0,f,h,df,dh,pars);
sprintf('x-value is: %f\n',xk)
sprintf('vk-value is: %f\n',vk)

